<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Night Games • Stable Build</title>

<style>
:root{
  --bg:url("IMG_7287.png");
  --text:#eaf2ff;
  --muted:#a9b7d6;
  --amber:#ffd000;
  --blue:#0a4bff;
}

*{ box-sizing:border-box; }

html,body{
  margin:0;
  height:100%;
  background:
    linear-gradient(to bottom,rgba(0,0,0,.15),rgba(0,0,0,.55)),
    var(--bg) center/cover no-repeat fixed;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
}

/* SCENES */
.scene{
  position:fixed;
  inset:0;
  display:none;
}
.scene.active{ display:flex; }

/* LANDING LAYOUT */
#landing{
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:
    calc(18px + env(safe-area-inset-top))
    14px
    calc(70px + env(safe-area-inset-bottom))
    14px;
}

/* Top logo */
.logoWrap{
  width:min(980px,100%);
  display:flex;
  justify-content:center;
}
.logoSpacer{
  height: clamp(140px, 28vw, 240px); /* reserves space for logo area baked into background */
}

.logo{
  width:min(980px,100%);
  max-width:980px;
  height:auto;
  border-radius:18px;
  filter: drop-shadow(0 18px 34px rgba(0,0,0,.66));
}

/* Divider bar (glow) */
.divider{
  width:min(980px,100%);
  height:14px;
  margin: 10px 0 18px 0;
  border-radius:999px;
  background:
    radial-gradient(circle at 30% 50%, rgba(0,210,255,.55), transparent 55%),
    radial-gradient(circle at 70% 50%, rgba(255,208,0,.45), transparent 55%),
    linear-gradient(to right, rgba(0,0,0,0), rgba(255,255,255,.18), rgba(0,0,0,0));
  box-shadow:
    0 0 18px rgba(0,210,255,.18),
    0 0 22px rgba(255,208,0,.12);
  opacity:.9;
}

/* CENTER BLOCK */
.center{
  margin: 0 auto;
  text-align:center;
  width:min(420px,90%);
  padding-top: 0px; /* spacer above handles layout */
}

h1{
  font-size:42px;
  margin:0 0 8px 0;
  letter-spacing:2px;
}

.sub{
  margin:0 0 18px 0;
  color:var(--muted);
  line-height:1.35;
}

/* INPUT + BUTTON (match sizes) */
input, button{
  width:100%;
  display:block;
  padding:14px 14px;
  border-radius:16px;
  font-size:16px;
  -webkit-appearance:none;
  appearance:none;
}

input{
  border:2px solid var(--blue);
  background:rgba(0,0,0,.25);
  color:var(--text);
}

button{
  margin-top:12px;
  border:2px solid var(--amber);
  background:transparent;
  color:var(--amber);
  font-weight:900;
  letter-spacing:2px;
  cursor:pointer;
}

/* VERSION BADGE (top-right, recognizable) */
.badge{
  position:fixed;
  top: calc(14px + env(safe-area-inset-top));
  right: 14px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(0,210,255,.35);
  background: rgba(0,0,0,.22);
  color: rgba(200,240,255,.92);
  font-weight: 900;
  letter-spacing:.6px;
  box-shadow: 0 10px 26px rgba(0,0,0,.35);
  z-index: 9999;
}

/* PLAYERS PAGE */
#players{
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:
    calc(18px + env(safe-area-inset-top))
    14px
    calc(70px + env(safe-area-inset-bottom))
    14px;
}

.playersWrap{
  width:min(720px,92%);
}

.playersTitle{
  font-size:22px;
  margin: 0 0 12px 0;
}

.player{
  padding:12px;
  border-bottom:1px solid rgba(255,255,255,.15);
}

/* Footer (bottom text restored) */
.footer{
  position:fixed;
  left:0;
  right:0;
  bottom: 12px;
  padding: 0 14px;
  text-align:center;
  font-size:12px;
  letter-spacing:.6px;
  color: rgba(255,255,255,.70);
  text-shadow: 0 0 10px rgba(0,0,0,.6);
  z-index: 9998;
  pointer-events:none;
}


/* ===============================
   TRUE FLOATING UI OVERRIDES
   =============================== */

:root{
  --bgLanding:url("IMG_7315.jpeg");
  --bgHub:url("IMG_7315.jpeg");
  --panelGlass: rgba(10,18,40,.14);
  --edgeBlue: rgba(40,170,255,.70);
  --edgeGold: rgba(255,200,0,.78);
  --text: #eaf2ff;
  --muted:#a9b7d6;
}

/* Scene-specific backgrounds */
body{
  background:
    radial-gradient(120% 90% at 18% 12%, rgba(0,210,255,.14), rgba(0,0,0,0) 55%),
    radial-gradient(110% 80% at 82% 14%, rgba(255,175,0,.12), rgba(0,0,0,0) 58%),
    radial-gradient(120% 120% at 50% 96%, rgba(160,120,255,.09), rgba(0,0,0,0) 62%),
    #000 !important;
}
.scene{
  background: transparent !important;
}
#landing.active{
  background-image: var(--bgLanding) !important;
  background-size: cover !important;
  background-position: center !important;
}
#players.active{
  background-image: var(--bgHub) !important;
  background-size: cover !important;
  background-position: center !important;
}

/* Kill any leftover frames */
.wrap,#app,.card,.panel,.playersWrap{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Floating headline */
h1{
  letter-spacing:.06em;
  text-shadow: 0 0 26px rgba(0,210,255,.22), 0 0 16px rgba(255,175,0,.12);
}

/* 3D input + button */
#email{
  width:min(560px,86vw);
  padding: 18px 22px;
  border-radius: 22px;
  border: 1px solid rgba(120,210,255,.60) !important;
  background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.03)) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.22),
    inset 0 -10px 18px rgba(0,0,0,.30),
    0 22px 46px rgba(0,0,0,.62),
    0 0 28px rgba(0,210,255,.16) !important;
  color: var(--text) !important;
}
#email::placeholder{ color: rgba(200,220,255,.55) !important; }

#enterBtn{
  width:min(560px,86vw);
  padding: 18px 22px;
  border-radius: 22px;
  border: 1px solid rgba(255,210,80,.62) !important;
  background:
    radial-gradient(120% 120% at 50% 20%, rgba(255,255,255,.28), rgba(0,0,0,0) 52%),
    linear-gradient(180deg, rgba(255,210,80,.22), rgba(255,140,0,.12)) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.20),
    inset 0 -14px 22px rgba(0,0,0,.36),
    0 24px 52px rgba(0,0,0,.64),
    0 0 34px rgba(255,175,0,.18) !important;
  color: rgba(255,235,190,.98) !important;
  letter-spacing:.06em;
  font-weight:800;
  cursor:pointer;
}
#enterBtn:hover{ transform: translateY(-2px); }
#enterBtn:active{ transform: translateY(1px); }

/* HUB layout */
.hub{
  width:min(760px, 92vw);
  margin: 0 auto;
  padding: 16px 0 28px;
  display:flex;
  flex-direction:column;
  gap: 18px;
}
.hubTop,.hubBottom{
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.14),
    inset 0 -18px 30px rgba(0,0,0,.36),
    0 22px 46px rgba(0,0,0,.62);
  backdrop-filter: blur(8px);
  overflow:hidden;
}
.hubHdr{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 16px 10px;
}
.hubTitle{
  font-size: 18px;
  font-weight: 800;
  letter-spacing:.08em;
  text-transform: uppercase;
  text-shadow: 0 0 18px rgba(0,210,255,.18);
}
.scrollBox{
  max-height: 210px;
  overflow:auto;
  padding: 10px 12px 14px;
}
@media (max-height: 740px){
  .scrollBox{ max-height: 180px; }
}

/* Styled scrollbars (WebKit + Firefox) */
.scrollBox{ scrollbar-width: thin; scrollbar-color: rgba(0,210,255,.35) rgba(0,0,0,.15); }
.scrollBox::-webkit-scrollbar{ width: 10px; }
.scrollBox::-webkit-scrollbar-track{ background: rgba(0,0,0,.18); border-radius: 999px; }
.scrollBox::-webkit-scrollbar-thumb{ background: rgba(0,210,255,.28); border-radius: 999px; }
.scrollBox::-webkit-scrollbar-thumb:hover{ background: rgba(0,210,255,.40); }

/* Floating row items */
.row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 14px 14px;
  border-radius: 18px;
  margin: 10px 0;
  background: linear-gradient(180deg, rgba(10,75,255,.10), rgba(0,0,0,.10));
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.12),
    inset 0 -10px 18px rgba(0,0,0,.28),
    0 14px 28px rgba(0,0,0,.54);
}
.rowTitle{
  font-weight: 800;
  letter-spacing:.02em;
}
.pill{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(0,210,255,.38);
  color: rgba(210,235,255,.90);
  box-shadow: 0 0 16px rgba(0,210,255,.10);
}

/* Mini buttons */
.miniBtn{
  border-radius: 14px;
  padding: 10px 12px;
  border: 1px solid rgba(0,210,255,.48);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  color: rgba(235,245,255,.92);
  box-shadow: 0 14px 26px rgba(0,0,0,.55), 0 0 18px rgba(0,210,255,.10);
  cursor:pointer;
}
.miniBtn.gold{
  border-color: rgba(255,210,80,.60);
  box-shadow: 0 14px 26px rgba(0,0,0,.55), 0 0 20px rgba(255,175,0,.12);
}
.miniBtn:hover{ transform: translateY(-1px); }
.miniBtn:active{ transform: translateY(1px); }

</style>
</head>

<body>

<div class="badge">v654</div>

<!-- LANDING -->
<section id="landing" class="scene active">
      <div class="logoSpacer" aria-hidden="true"></div>
<div class="divider" aria-hidden="true"></div>

  <div class="center">
    <h1>ENTER</h1>
    <div class="sub">Email only access. ENTER takes you to Games and Players.</div>
    <input id="email" type="email" placeholder="Enter email address" autocomplete="email" />
    <button id="enterBtn">ENTER</button>
  </div>
</section>

<!-- PLAYERS PAGE -->
<section id="players" class="scene">
  <div class="hub">
    <div class="hubTop">
      <div class="hubHdr">
        <div class="hubTitle">Games</div>
        <button class="miniBtn" id="addGameBtn" type="button">+ Add</button>
      </div>
      <div class="scrollBox" id="gameList" aria-label="Games list"></div>
    </div>

    <div class="hubBottom">
      <div class="hubHdr">
        <div class="hubTitle">Players</div>
        <button class="miniBtn gold" id="addPlayerBtn" type="button">+ Add</button>
      </div>
      <div class="scrollBox" id="playerList" aria-label="Players list"></div>
    </div>
  </div>
</section>

<div class="footer">Night Games is owned by The Dart Room. © 2026 The Dart Room. All rights reserved.</div>

<script>
const landing = document.getElementById("landing");
const players = document.getElementById("players");

const emailInput = document.getElementById("email");
const enterBtn = document.getElementById("enterBtn");

const playerList = document.getElementById("playerList");
const gameList = document.getElementById("gameList");
const addPlayerBtn = document.getElementById("addPlayerBtn");
const addGameBtn = document.getElementById("addGameBtn");

const LS_EMAIL = "ng_email";
const LS_PLAYERS = "ng_players";
const LS_GAMES = "ng_games";

function showPlayers(){
  landing.classList.remove("active");
  players.classList.add("active");
  // keep footer visible
  window.scrollTo(0,0);
}

function isEmailLike(v){
  // light validation only
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
}

function loadList(key, fallback){
  try{
    const v = JSON.parse(localStorage.getItem(key) || "null");
    return Array.isArray(v) ? v : fallback;
  }catch{
    return fallback;
  }
}

function saveList(key, arr){
  localStorage.setItem(key, JSON.stringify(arr));
}

let sessionPlayers = loadList(LS_PLAYERS, ["Steven","Jace","Brother"]);
let sessionGames = loadList(LS_GAMES, ["Cricket","301","Around the Clock"]);

function renderPlayers(){
  playerList.innerHTML = "";
  sessionPlayers.forEach((name, idx)=>{
    const row = document.createElement("div");
    row.className = "row";
    const left = document.createElement("div");
    left.className = "rowTitle";
    left.textContent = name;

    const right = document.createElement("div");
    right.className = "pill";
    right.textContent = idx===0 ? "Active" : "Tap to set";

    row.appendChild(left);
    row.appendChild(right);

    row.addEventListener("click", ()=>{
      // set active
      if(idx===0) return;
      const picked = sessionPlayers.splice(idx,1)[0];
      sessionPlayers.unshift(picked);
      saveList(LS_PLAYERS, sessionPlayers);
      renderPlayers();
    });

    playerList.appendChild(row);
  });
}

function renderGames(){
  gameList.innerHTML = "";
  sessionGames.forEach((g)=>{
    const row = document.createElement("div");
    row.className = "row";
    const left = document.createElement("div");
    left.className = "rowTitle";
    left.textContent = g;

    const right = document.createElement("div");
    right.className = "pill";
    right.textContent = "Open";

    row.appendChild(left);
    row.appendChild(right);
    gameList.appendChild(row);
  });
}

function addPlayer(name){
  const n = (name || "").trim();
  if(!n) return;
  if(sessionPlayers.includes(n)) return;
  sessionPlayers.push(n);
  saveList(LS_PLAYERS, sessionPlayers);
  renderPlayers();
}

function addGame(name){
  const n = (name || "").trim();
  if(!n) return;
  if(sessionGames.includes(n)) return;
  sessionGames.push(n);
  saveList(LS_GAMES, sessionGames);
  renderGames();
}

enterBtn.onclick = ()=>{
  const email = emailInput.value.trim();
  if(!email) return;
  if(!isEmailLike(email)){
    emailInput.focus();
    emailInput.select?.();
    return;
  }
  localStorage.setItem(LS_EMAIL, email);
  // If email isn't already in players, add it at the end (optional)
  if(!sessionPlayers.includes(email)){
    sessionPlayers.push(email);
    saveList(LS_PLAYERS, sessionPlayers);
  }
  renderGames();
  renderPlayers();
  showPlayers();
};

emailInput.addEventListener("keydown",(e)=>{
  if(e.key==="Enter") enterBtn.onclick();
});

addPlayerBtn?.addEventListener("click", ()=>{
  const name = prompt("Add player name:");
  addPlayer(name);
});
addGameBtn?.addEventListener("click", ()=>{
  const name = prompt("Add game name:");
  addGame(name);
});

// initial render if user already entered before
renderGames();
renderPlayers();
if(localStorage.getItem(LS_EMAIL)){
  // If you want to auto-skip landing after first sign-in, uncomment:
  // showPlayers();
}
</script>

</body>
</html>
