<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Night Games v681</title>
  <style>
    :root{
      --bgStage: url("./IMG_7315.jpeg");
      --maxW: 760px;
      --uiW: min(var(--maxW), calc(100vw - 24px));
      --txt: rgba(245,250,255,.94);
      --zShadow: drop-shadow(0 22px 46px rgba(0,0,0,.72));
      --zShadowSoft: drop-shadow(0 10px 22px rgba(0,0,0,.55));
    }

    html, body{
      height:100%;
      margin:0;
      background:#000;
      color:var(--txt);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      overflow:hidden;
      -webkit-text-size-adjust: 100%;
    }

    .buildBadge{
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 9999;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.92);
      font-weight: 1000;
      letter-spacing: 1px;
      font-size: 12px;
      text-transform: uppercase;
      pointer-events: none;
      box-shadow: 0 10px 22px rgba(0,0,0,.55);
    }
    .buildBadge b{ color: rgba(0,210,255,.95); }

    #app{ position:fixed; inset:0; }

    .screen{ position:absolute; inset:0; display:none; }
    .screen.active{ display:block; }

    .screen::before{
      content:"";
      position:absolute;
      inset:0;
      background-image: var(--bgStage);
      background-repeat:no-repeat;
      background-size:cover;
      background-position: center bottom;
    }
    .screen::after{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(130% 110% at 50% 25%, rgba(0,0,0,0), rgba(0,0,0,.22) 60%, rgba(0,0,0,.52) 100%);
      pointer-events:none;
    }

    /* ===== Landing ===== */
    .landingUI{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      width: var(--uiW);
      max-width: var(--maxW);
      top: clamp(320px, 48vh, 590px);
      display:grid;
      gap: 14px;
      justify-items:center;
      z-index:2;
    }

    .field3d, .btn3d{
      width: min(640px, 92vw);
      height: 72px;
      border-radius: 22px;
      transform: translateZ(0);
      filter: var(--zShadow);
      background: rgba(255,255,255,.035);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow:
        inset 0 2px 6px rgba(255,255,255,.45),
        inset 0 -14px 22px rgba(0,0,0,.60),
        0 0 18px rgba(0,210,255,.10);
      position:relative;
      overflow:hidden;
    }
    .field3d::before, .btn3d::before{
      content:"";
      position:absolute;
      inset: 10px 12px auto 12px;
      height: 16px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,.52), rgba(255,255,255,0));
      opacity: .42;
      pointer-events:none;
    }
    .field3d input{
      width:100%;
      height:100%;
      border:0;
      outline:none;
      background:transparent;
      color: rgba(255,255,255,.95);
      font-size: 18px;
      letter-spacing: .6px;
      padding: 0 20px;
      box-sizing:border-box;
    }
    .field3d input::placeholder{ color: rgba(235,245,255,.55); }
    .btn3d{
      cursor:pointer;
      color: rgba(255,255,255,.96);
      font-weight: 1000;
      font-size: 28px;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    .btn3d:active{ transform: translateY(2px) scale(.995); filter: var(--zShadowSoft); }

    /* Remove iOS yellow autofill background */
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
      -webkit-box-shadow: 0 0 0 1000px rgba(0,0,0,0) inset !important;
      box-shadow: 0 0 0 1000px rgba(0,0,0,0) inset !important;
      -webkit-text-fill-color: white !important;
      caret-color: white;
    }

    /* ===== Players Hub (scroll like before) ===== */
    .hub{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      width: var(--uiW);
      max-width: var(--maxW);
      top: clamp(170px, 23vh, 290px);
      bottom: max(120px, env(safe-area-inset-bottom));
      display:grid;
      grid-template-rows: 1fr 1fr;
      gap: 18px;
      padding: 0 12px;
      box-sizing:border-box;
      z-index:2;
    }

    .panel{
      position:relative;
      border-radius: 22px;
      background: rgba(255,255,255,.03);
      border: none;
      box-shadow:
        inset 0 2px 6px rgba(255,255,255,.38),
        inset 0 -14px 22px rgba(0,0,0,.62),
        0 0 18px rgba(0,210,255,.10);
      overflow:hidden;
      filter: var(--zShadowSoft);
    }

    .sectionHead{
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 12px 14px 10px 14px;
      gap: 10px;
    }
    .title{
      font-weight: 1000;
      letter-spacing: 3px;
      text-transform: uppercase;
      font-size: clamp(22px, 3.0vh, 30px);
      color: rgba(255,255,255,.94);
      text-shadow:
        0 1px 0 rgba(255,255,255,.35),
        0 -2px 8px rgba(0,0,0,.65),
        0 0 18px rgba(0,210,255,.12);
      position: relative;
      padding-bottom: 6px;
      width: 100%;
    }
    .title::after{
      content:"";
      position:absolute;
      left:0;
      right:0;
      bottom:0;
      height:2px;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(0,210,255,.55), rgba(255,175,0,.40), rgba(0,210,255,.10));
      opacity:.75;
    }

    .list{
      position:absolute;
      left: 0; right: 0;
      top: 54px; bottom: 0;
      padding: 12px 12px 14px 12px;
      box-sizing: border-box;
      overflow:auto;
      scrollbar-gutter: stable;
      -webkit-overflow-scrolling: touch;
    }

    .list::-webkit-scrollbar{ width: 10px; }
    .list::-webkit-scrollbar-thumb{
      background: linear-gradient(180deg, rgba(0,210,255,.22), rgba(255,175,0,.16));
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,.25);
    }
    .list::-webkit-scrollbar-track{ background: rgba(0,0,0,.12); border-radius: 999px; }

    /* Glass rows */
    .row{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      padding: 16px 14px;
      border-radius: 22px;
      margin-bottom: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.18);
      box-shadow:
        inset 0 2px 10px rgba(255,255,255,.28),
        inset 0 -16px 26px rgba(0,0,0,.55),
        0 18px 34px rgba(0,0,0,.45),
        0 0 18px rgba(0,210,255,.10);
      position: relative;
      overflow:hidden;
    }
    .row::before{
      content:"";
      position:absolute;
      left: 10px;
      right: 10px;
      top: 10px;
      height: 18px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,.55), rgba(255,255,255,0));
      opacity: .45;
      pointer-events:none;
    }
    .row::after{
      content:"";
      position:absolute;
      inset: -50% -20%;
      background: radial-gradient(circle at 25% 25%, rgba(0,210,255,.10), rgba(255,175,0,.08), rgba(255,255,255,0) 58%);
      transform: rotate(12deg);
      opacity: .9;
      pointer-events:none;
    }
    .row strong{
      font-weight: 1000;
      font-size: clamp(22px, 2.8vh, 30px);
      letter-spacing: .4px;
      color: rgba(255,255,255,.96);
      text-shadow: 0 1px 0 rgba(255,255,255,.35), 0 -2px 10px rgba(0,0,0,.70);
      position: relative;
      z-index: 2;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .dot{
      width:10px;
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.18);
      box-shadow: 0 0 0 1px rgba(255,255,255,.12);
      flex: 0 0 auto;
    }
    .dot.online{
      background: rgba(90,255,170,.92);
      box-shadow: 0 0 10px rgba(90,255,170,.35), 0 0 0 1px rgba(90,255,170,.28);
    }

    .actions{ display:flex; gap:12px; align-items:center; flex:0 0 auto; position:relative; z-index:2; }

    /* Glass pills with "push" feel */
    .pill{
      border: 1px solid rgba(255,255,255,.20);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.95);
      border-radius: 999px;
      padding: 12px 16px;
      font-size: clamp(12px, 1.4vh, 16px);
      font-weight: 1000;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      box-shadow:
        inset 0 2px 6px rgba(255,255,255,.30),
        inset 0 -10px 16px rgba(0,0,0,.55),
        0 0 16px rgba(0,210,255,.10);
      transform: translateY(0);
      transition: transform .07s ease, filter .07s ease;
    }
    .pill::before{
      content:"";
      position:absolute;
      left: 10px;
      right: 10px;
      top: 7px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,.50), rgba(255,255,255,0));
      opacity: .35;
      pointer-events:none;
    }
    .pill:active{
      transform: translateY(2px) scale(.99);
      filter: var(--zShadowSoft);
    }
  </style>
</head>
<body>
  <div class="buildBadge">Build <b>v681</b></div>

  <div id="app">
    <!-- LOGIN -->
    <section id="landing" class="screen active">
      <div class="landingUI">
        <div class="field3d">
          <input id="emailInput" type="email" placeholder="Enter your email" autocomplete="off" inputmode="email"/>
        </div>
        <button id="enterBtn" class="btn3d" type="button">Enter</button>
      </div>
    </section>

    <!-- PLAYERS -->
    <section id="players" class="screen">
      <div class="hub">
        <div class="panel">
          <div class="sectionHead"><div class="title">Games</div></div>
          <div class="list" id="gamesList"></div>
        </div>
        <div class="panel">
          <div class="sectionHead"><div class="title">Players</div></div>
          <div class="list" id="playersList"></div>
        </div>
      </div>
    </section>
  </div>

  <script>
    (function(){
      console.log("Night Games v681 loaded");

      const registry = [
        { email: "stevewmoody@yahoo.com", name: "Steve Moody" },
        { email: "jmoody7712@gmail.com", name: "Jayce Moody" },
        { email: "wmoody7931@aol.com", name: "Bill Moody" }
      ];

      const games = ["01","Cricket","Killer","Shanghai","Around the World","Half It"];

      const landing = document.getElementById("landing");
      const players = document.getElementById("players");
      const emailInput = document.getElementById("emailInput");
      const enterBtn = document.getElementById("enterBtn");
      const gamesList = document.getElementById("gamesList");
      const playersList = document.getElementById("playersList");

      function show(which){
        landing.classList.toggle("active", which==="landing");
        players.classList.toggle("active", which==="players");
      }

      // ===== Click "sound" (no asset) =====
      let audioCtx = null;
      function clickSound(){
        try{
          audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();
          const t = audioCtx.currentTime;
          const osc = audioCtx.createOscillator();
          const gain = audioCtx.createGain();
          osc.type = "triangle";
          osc.frequency.setValueAtTime(620, t);
          osc.frequency.exponentialRampToValueAtTime(220, t + 0.08);
          gain.gain.setValueAtTime(0.0001, t);
          gain.gain.exponentialRampToValueAtTime(0.18, t + 0.01);
          gain.gain.exponentialRampToValueAtTime(0.0001, t + 0.10);
          osc.connect(gain).connect(audioCtx.destination);
          osc.start(t);
          osc.stop(t + 0.12);
        }catch(e){}
      }

      function row(label, leftDotOnline, actions){
        const dot = leftDotOnline ? '<span class="dot online"></span>' : '<span class="dot"></span>';
        const btns = actions.map(a => `<button class="pill" data-action="${a.action}" data-value="${a.value||''}">${a.text}</button>`).join("");
        return `<div class="row"><strong>${dot}${label}</strong><div class="actions">${btns}</div></div>`;
      }

      function renderGames(){
        gamesList.innerHTML = games.map(g => row(g, false, [
          {action:"enter_game", text:"Enter", value:g},
          {action:"game_history", text:"History", value:g}
        ])).join("");
      }

      function renderPlayers(currentEmail){
        playersList.innerHTML = registry.map(p => row(p.name, p.email === currentEmail, [
          {action:"player_history", text:"History", value:p.email},
          {action:"player_stats", text:"Stats", value:p.email}
        ])).join("");
      }

      function signIn(){
        const email = (emailInput.value||"").trim().toLowerCase();
        const match = registry.find(r => r.email.toLowerCase() === email);
        if(!match) return alert("Email not registered.");
        renderGames();
        renderPlayers(match.email);
        show("players");
      }

      enterBtn.addEventListener("click", ()=>{ clickSound(); signIn(); });
      emailInput.addEventListener("keydown", (e)=>{ if(e.key==="Enter"){ e.preventDefault(); clickSound(); signIn(); } });

      // Global button handler for sound + placeholder actions
      document.addEventListener("pointerdown", (e)=>{
        const b = e.target.closest("button");
        if(!b) return;
        // Sound on any button press
        clickSound();
      });

      document.addEventListener("click", (e)=>{
        const b = e.target.closest(".pill");
        if(!b) return;
        const a = b.dataset.action;
        const v = b.dataset.value;
        if(a==="enter_game") alert("Enter " + v + " (next: board screen)");
        if(a==="game_history") alert("Game History: " + v);
        if(a==="player_history") alert("Player History");
        if(a==="player_stats") alert("Player Stats");
      });
    })();
  </script>
</body>
</html>
