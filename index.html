<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Night Games V814 (CLEAN SINGLESET)</title>
  <!-- BUILD_STAMP_V814 -->
  <style>
    :root{
      --stageW: min(520px, 86vw);
      --emailH: 64px;
      --enterH: 66px;
      --bottomPad: 118px; /* distance from bottom of screen to the email field block */
    }

    html, body{
      height: 100%;
      margin: 0;
      background: #000;
      overflow: hidden;
      -webkit-text-size-adjust: 100%;
      touch-action: manipulation;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* Landing art (A) contains the glass email box + ENTER + footer already */
    #landing{
      position: relative;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: url("69CB8D2F-BF7B-4B22-8CA7-A9F607BEB74E.png") center/cover no-repeat;
    }

    /* Top header (text only, no pill) */
    #header{
      position: fixed;
      top: env(safe-area-inset-top);
      left: 0; right: 0;
      z-index: 1000;
      padding: 14px 18px 10px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      color: rgba(255,255,255,.88);
      letter-spacing: .08em;
      font-weight: 800;
      font-size: 14px;
      text-transform: uppercase;
      background: transparent;
      pointer-events: none; /* purely display */
    }
    #header .center{
      color: rgba(120,200,255,.95);
      text-shadow: 0 0 10px rgba(120,200,255,.35), 0 0 22px rgba(0,210,255,.18);
      pointer-events: none;
    }
    #header .right{
      color: rgba(60,255,160,.95);
      text-shadow: 0 0 10px rgba(60,255,160,.35);
      pointer-events: none;
    }

    /* Hotspots container */
    #hotspots{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: calc(var(--bottomPad) + env(safe-area-inset-bottom));
      width: var(--stageW);
      z-index: 2000;
      display: grid;
      grid-template-rows: var(--emailH) 14px var(--enterH);
      grid-template-columns: 1fr;
      pointer-events: auto;
    }

    /* Email input hotspot: transparent so only art shows, but typed text is visible */
    #emailInput{
      grid-row: 1;
      width: 100%;
      height: 100%;
      border: none;
      outline: none;
      background: transparent;
      color: rgba(255,255,255,.92);
      text-align: center;
      font-size: 22px;
      font-weight: 700;
      letter-spacing: .02em;
      text-shadow: 0 0 10px rgba(0,0,0,.60);
      caret-color: rgba(255,255,255,.95);
      -webkit-appearance: none;
      appearance: none;
    }
    #emailInput::placeholder{
      color: rgba(220,230,255,.55);
      text-align: center;
      font-weight: 700;
    }

    /* ENTER hotspot button: transparent (no duplicate label). */
    #enterBtn{
      grid-row: 3;
      width: 100%;
      height: 100%;
      border: none;
      background: transparent;
      color: transparent;
      -webkit-appearance: none;
      appearance: none;
      padding: 0;
    }

    /* Tiny debug badge so you KNOW the right build is loading */
    #badge{
      position: fixed;
      left: 10px;
      bottom: 10px;
      z-index: 99999;
      padding: 10px 12px;
      font: 800 14px/1.2 system-ui, -apple-system, Arial;
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.25);
      border-radius: 12px;
      color: rgba(255,255,255,.95);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      pointer-events: none;
    }

    /* Simple “it worked” screen (so ENTER never feels dead) */
    #ok{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.75);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 5000;
      color: rgba(255,255,255,.92);
      text-align: center;
      padding: 24px;
    }
    #ok .box{
      width: min(520px, 92vw);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 18px;
      padding: 18px 16px;
      background: rgba(255,255,255,.08);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    #ok .box h2{
      margin: 0 0 8px 0;
      font-size: 18px;
      letter-spacing: .06em;
      text-transform: uppercase;
    }
    #ok .box p{
      margin: 0;
      opacity: .9;
      font-size: 14px;
      line-height: 1.4;
    }
  </style>
</head>

<body>
  <div id="header">
    <div class="left">Night Games V814</div>
    <div class="center">Firebase • Firestore</div>
    <div class="right">Online</div>
  </div>

  <main id="landing" role="main" aria-label="Night Games Landing">
    <div id="hotspots" aria-label="Landing hotspots">
      <input
        id="emailInput"
        type="email"
        inputmode="email"
        autocapitalize="none"
        autocorrect="off"
        spellcheck="false"
        autocomplete="off"
        name="ng_email"
        placeholder="youremail@here.com"
      />
      <div></div>
      <button id="enterBtn" type="button" aria-label="Enter"></button>
    </div>
  </main>

  <div id="badge">V814 LIVE ✓</div>

  <div id="ok" role="dialog" aria-live="polite">
    <div class="box">
      <h2>Entered ✓</h2>
      <p id="okText">Email captured. (This confirms the button is active.)</p>
    </div>
  </div>

  <script>
    // ===== Intro audio (must be synchronous on a user gesture for iPhone) =====
    const INTRO_URL = "assets/New%20Recording%202.m4a";
    const intro = new Audio(INTRO_URL);
    intro.preload = "auto";
    intro.volume = 1;

    function playIntro(){
      try{
        intro.currentTime = 0;
        const p = intro.play();
        if(p && p.catch) p.catch(()=>{});
      }catch(e){}
    }

    const email = document.getElementById("emailInput");
    const enter = document.getElementById("enterBtn");
    const ok = document.getElementById("ok");
    const okText = document.getElementById("okText");

    // Clear any Safari autofill that appears after load
    function clearEmail(){
      try{ email.value = ""; }catch(e){}
    }
    clearEmail();
    setTimeout(clearEmail, 250);
    setTimeout(clearEmail, 1200);

    ["pointerdown","touchstart","mousedown","click","focus"].forEach(ev=>{
      email.addEventListener(ev, playIntro, {passive:true});
    });

    enter.addEventListener("click", function(){
      playIntro();
      const v = (email.value || "").trim();
      if(!v){
        okText.textContent = "Enter your email above. (Button is active ✓)";
      }else{
        okText.textContent = "Captured: " + v + "  (Button is active ✓)";
      }
      ok.style.display = "flex";
      setTimeout(()=>{ ok.style.display = "none"; }, 1600);
    }, {passive:true});
  </script>
</body>
</html>
